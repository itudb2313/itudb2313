{% extends "layout.html" %}
{% block title %}Categories{% endblock %}
{% block content %}

<h1>Categories</h1>
<div class = "row">
    <div class = "col-lg-3">
        <a href = "{{ url_for('categories_bp.insert_category') }}" class = "btn btn-success btn-sm mb-3"> Add Category</a>
    </div>
</div>

<table id="categoryTable" class = "table table-striped table-bordered " >
    <thead class = "table-dark">
    <tr>
        <th style="text-align: center"> Category Id</th>
        <th style="text-align: center"> Employee Id</th>
        <th style="text-align: center"> Category Name </th>
        <th style="text-align: center"> Rating</th>
        <th style="text-align: center"> Quantity Sold</th>
        <th style="text-align: center"> Being Manufactured </th>
        <th style="text-align: center"> Total Sold Value</th>
        <th style="text-align: center"> Actions </th>
    </tr>
    </thead>
    <tbody>
    {% for category in categories %}
    <tr>
        <td style="text-align: center">{{category.category_id}}</td>
        <td style="text-align: center">{{category.employee_id}}</td>
        <td style="text-align: center">{{category.category_name}}</td>
        <td style="text-align: center">{{category.rating}}</td>
        <td style="text-align: center">{{category.quantity_sold}}</td>
        <td style="text-align: center">{{category.being_manufactured}}</td>
        <td style="text-align: center">{{category.total_sold_value}}</td>
        <td style="text-align: center">
            <a href = "/update_category" value="{{category.category_id}}" class = "btn btn-primary">Update</a>

            <a href = "/delete_category?category_id={{category.category_id}}" class = "btn btn-danger">Delete</a>

        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<nav class="pagination">
    {% if page > 1 %}
    <a class="round" href="?page={{ page - 1 }}"><span aria-hidden="true">&#8249;</span></a>
    {% endif %}
  
    <div>{{ page }}</div>
  
    {% if categories|length > 11 %}
    <a class="round" style="text-align: right" href="?page={{ page + 1 }}"><span aria-hidden="true">&#8250;</span></a>
    {% endif %}
</nav>

{% endblock %}